{
 "actions": [],
 "allow_rename": 1,
 "creation": "2025-01-27 14:13:57.152010",
 "doctype": "DocType",
 "engine": "InnoDB",
 "field_order": [
  "host_name",
  "ip_address",
  "resources_section",
  "total_cpu",
  "total_memory",
  "total_disk",
  "col_break_1",
  "available_cpu",
  "available_memory",
  "available_disk",
  "section_break_1",
  "status",
  "cluster",
  "api_settings_section",
  "vm_api_url",
  "cloud_init_section",
  "default_user_data",
  "default_meta_data",
  "default_network_config",
  "custom_cloud_init_section",
  "allow_custom_cloud_init",
  "custom_user_data_template",
  "custom_meta_data_template",
  "custom_network_config_template"
 ],
 "fields": [
  {
   "fieldname": "host_name",
   "fieldtype": "Data",
   "label": "Host Name",
   "reqd": 1,
   "unique": 1
  },
  {
   "fieldname": "ip_address",
   "fieldtype": "Data",
   "label": "IP Address",
   "reqd": 1
  },
  {
   "fieldname": "resources_section",
   "fieldtype": "Section Break",
   "label": "Resources"
  },
  {
   "fieldname": "total_cpu",
   "fieldtype": "Int",
   "label": "Total CPU",
   "reqd": 1
  },
  {
   "fieldname": "total_memory",
   "fieldtype": "Int",
   "label": "Total Memory (GB)",
   "reqd": 1
  },
  {
   "fieldname": "total_disk",
   "fieldtype": "Int",
   "label": "Total Disk (GB)",
   "reqd": 1
  },
  {
   "fieldname": "col_break_1",
   "fieldtype": "Column Break"
  },
  {
   "fieldname": "available_cpu",
   "fieldtype": "Int",
   "label": "Available CPU"
  },
  {
   "fieldname": "available_memory",
   "fieldtype": "Int",
   "label": "Available Memory (GB)"
  },
  {
   "fieldname": "available_disk",
   "fieldtype": "Int",
   "label": "Available Disk (GB)"
  },
  {
   "fieldname": "section_break_1",
   "fieldtype": "Section Break"
  },
  {
   "fieldname": "status",
   "fieldtype": "Select",
   "label": "Status",
   "options": "Active\nMaintenance\nOffline",
   "default": "Active"
  },
  {
   "fieldname": "cluster",
   "fieldtype": "Link",
   "label": "Cluster",
   "options": "Cluster",
   "reqd": 1
  },
  {
   "fieldname": "api_settings_section",
   "fieldtype": "Section Break",
   "label": "API Settings"
  },
  {
   "default": "http://127.0.0.1:5000",
   "fieldname": "vm_api_url",
   "fieldtype": "Data",
   "label": "VM API URL",
   "reqd": 1
  },
  {
   "fieldname": "cloud_init_section",
   "fieldtype": "Section Break",
   "label": "Default Cloud-Init Configuration"
  },
  {
   "fieldname": "default_user_data",
   "fieldtype": "Code",
   "label": "Default User Data",
   "description": "Default cloud-init user-data configuration (in YAML format)",
   "default": "#cloud-config\npackages:\n  - net-tools\n  - iproute2\n  - iptables\n  - netcat\n\nwrite_files:\n  - path: /etc/netplan/50-cloud-init.yaml\n    content: |\n      network:\n        version: 2\n        ethernets:\n          eth0:\n            dhcp4: true\n            nameservers:\n              addresses: [8.8.8.8, 8.8.4.4]\n\nruncmd:\n  - netplan apply\n  - iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE\n  - echo 1 > /proc/sys/net/ipv4/ip_forward"
  },
  {
   "fieldname": "default_meta_data",
   "fieldtype": "Code",
   "label": "Default Meta Data",
   "description": "Default cloud-init meta-data configuration",
   "default": "instance-id: {instance_id}\nlocal-hostname: {hostname}"
  },
  {
   "fieldname": "default_network_config",
   "fieldtype": "Code",
   "label": "Default Network Config",
   "description": "Default cloud-init network configuration",
   "default": "version: 2\nethernets:\n  eth0:\n    addresses: [{ip_address}/24]\n    gateway4: {gateway}\n    nameservers:\n      addresses: [8.8.8.8, 8.8.4.4]"
  },
  {
   "fieldname": "custom_cloud_init_section",
   "fieldtype": "Section Break",
   "label": "Custom Cloud-Init Configuration"
  },
  {
   "fieldname": "allow_custom_cloud_init",
   "fieldtype": "Check",
   "label": "Allow Custom Cloud-Init",
   "description": "Allow VMs to specify custom cloud-init configurations"
  },
  {
   "fieldname": "custom_user_data_template",
   "fieldtype": "Code",
   "label": "Custom User Data Template",
   "description": "Template for custom user-data (supports Jinja2 templating)",
   "depends_on": "eval:doc.allow_custom_cloud_init==1"
  },
  {
   "fieldname": "custom_meta_data_template",
   "fieldtype": "Code",
   "label": "Custom Meta Data Template",
   "description": "Template for custom meta-data (supports Jinja2 templating)",
   "depends_on": "eval:doc.allow_custom_cloud_init==1"
  },
  {
   "fieldname": "custom_network_config_template",
   "fieldtype": "Code",
   "label": "Custom Network Config Template",
   "description": "Template for custom network configuration (supports Jinja2 templating)",
   "depends_on": "eval:doc.allow_custom_cloud_init==1"
  }
 ],
 "index_web_pages_for_search": 1,
 "links": [],
 "modified": "2025-02-03 19:27:54.198765",
 "modified_by": "Administrator",
 "module": "Press",
 "name": "Bare Metal Host",
 "owner": "Administrator",
 "permissions": [
  {
   "create": 1,
   "delete": 1,
   "email": 1,
   "export": 1,
   "print": 1,
   "read": 1,
   "report": 1,
   "role": "System Manager",
   "share": 1,
   "write": 1
  }
 ],
 "sort_field": "modified",
 "sort_order": "DESC",
 "states": []
} 